---
import Layout from '../layouts/Layout.astro';
---

<Layout 
  title="Services" 
  description="Explore our comprehensive construction services tailored to your specific needs, from residential and commercial construction to sustainable building solutions."
>
  <!-- Apply Index Background -->
  <div class="fixed inset-0 -z-10 bg-gradient-to-br from-black/80 via-gray-900 to-black">
    <div class="absolute inset-0 z-0">
      <div class="bg-[radial-gradient(circle_at_30%_30%,rgba(255,107,53,0.1)_0%,transparent_70%)] absolute inset-0"></div>
      <div class="bg-[radial-gradient(circle_at_70%_70%,rgba(255,107,53,0.1)_0%,transparent_70%)] absolute inset-0"></div>
    </div>
  </div>
  
  <div class="container mx-auto relative z-10">
    <!-- Page Header Section -->
    <section class="page-header relative h-[400px] flex items-center justify-center overflow-hidden">
      <div class="header-content text-center max-w-3xl px-5 animate-fade-in-down">
        <h1 class="header-title text-5xl md:text-6xl font-bold mb-4 text-white drop-shadow-lg">
          Our <span class="text-primary bg-gradient-to-r from-primary to-accent bg-clip-text">Services</span>
        </h1>
        <p class="header-subtitle text-lg md:text-xl text-gray-300">Comprehensive construction solutions tailored to your specific needs</p>
      </div>
    </section>
    
    <!-- Introduction Section -->
    <section class="introduction py-16">
      <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto text-center animate-fade-in">
          <p class="text-xl leading-relaxed text-gray-300">
            At Ultraction General Contracting, we offer a comprehensive range of construction services designed to meet the diverse needs of our clients. From residential and commercial construction to specialized services like sustainable building and infrastructure development, our experienced team delivers excellence at every stage of the project lifecycle.
          </p>
        </div>
      </div>
    </section>
    
    <!-- Services Carousel Section -->
    <section class="services-carousel py-20">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16 animate-fade-in">
          <h2 class="text-4xl md:text-5xl font-bold mb-6 inline-block relative">
            Our <span class="text-primary">Services</span>
            <span class="absolute bottom-0 left-1/2 w-24 h-1 bg-gradient-primary -translate-x-1/2 rounded-full animate-pulse"></span>
          </h2>
          <p class="text-xl max-w-3xl mx-auto text-gray-300">
            Explore our range of specialized construction services
          </p>
        </div>
        
        <div class="services-tabs flex flex-wrap justify-center gap-4 mb-10">
          <button class="service-tab active px-6 py-3 rounded-full text-white font-medium bg-white/5 border border-white/10 transition-all duration-300 hover:bg-primary/20 hover:text-primary" data-tab="residential">Residential</button>
          <button class="service-tab px-6 py-3 rounded-full text-gray-400 font-medium bg-white/5 border border-white/10 transition-all duration-300 hover:bg-primary/20 hover:text-primary" data-tab="commercial">Commercial</button>
          <button class="service-tab px-6 py-3 rounded-full text-gray-400 font-medium bg-white/5 border border-white/10 transition-all duration-300 hover:bg-primary/20 hover:text-primary" data-tab="sustainable">Sustainable</button>
          <button class="service-tab px-6 py-3 rounded-full text-gray-400 font-medium bg-white/5 border border-white/10 transition-all duration-300 hover:bg-primary/20 hover:text-primary" data-tab="renovation">Renovation</button>
          <button class="service-tab px-6 py-3 rounded-full text-gray-400 font-medium bg-white/5 border border-white/10 transition-all duration-300 hover:bg-primary/20 hover:text-primary" data-tab="design">Design-Build</button>
        </div>
        
        <div class="services-content relative min-h-[500px] perspective-1000">
          <!-- Residential Panel -->
          <div class="service-panel active absolute w-full transition-all duration-700 opacity-100 transform translate-x-0 rotate-y-0" id="residential-panel">
            <div class="service-content flex flex-col lg:flex-row items-center gap-8 lg:gap-16 bg-white/5 backdrop-blur-md rounded-xl p-6 shadow-xl">
              <div class="service-image w-full lg:w-1/2 rounded-xl overflow-hidden shadow-2xl relative group">
                <img src="/api/placeholder/800/600" alt="Residential Construction" class="w-full h-auto transition-transform duration-500 group-hover:scale-105">
                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              </div>
              <div class="service-details w-full lg:w-1/2">
                <span class="service-category inline-block px-4 py-1 bg-primary/20 text-primary text-sm rounded-full mb-4 animate-fade-in">Residential</span>
                <h2 class="text-3xl font-bold mb-6 text-white animate-slide-in-right">Residential Construction</h2>
                <p class="text-lg leading-relaxed mb-6 text-gray-300">
                  We create beautiful, functional homes that reflect your lifestyle and meet your unique needs. Our residential construction services encompass everything from custom home building to comprehensive renovations, all delivered with meticulous attention to detail and quality craftsmanship.
                </p>
                <ul class="service-features grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                  {['Custom Home Building', 'Home Renovations', 'Luxury Residential Projects', 'Multi-Family Developments', 'Additions & Extensions', 'Interior Remodeling'].map((feature, index) => (
                    <li class="flex items-start animate-fade-in" style={`animation-delay: ${index * 100}ms`}>
                      <span class="feature-icon text-primary mr-3">✓</span>
                      <span class="text-gray-300">{feature}</span>
                    </li>
                  ))}
                </ul>
                <a href="/contact" class="inline-block px-8 py-3 bg-gradient-primary text-white font-semibold rounded transition-all duration-300 hover:shadow-lg hover:shadow-primary/30 hover:transform hover:-translate-y-1 animate-bounce-in">Request a Consultation</a>
              </div>
            </div>
          </div>
          
          <!-- Commercial Panel -->
          <div class="service-panel absolute w-full transition-all duration-700 opacity-0 transform translate-x-full rotate-y-15" id="commercial-panel">
            <div class="service-content flex flex-col lg:flex-row items-center gap-8 lg:gap-16 bg-white/5 backdrop-blur-md rounded-xl p-6 shadow-xl">
              <div class="service-image w-full lg:w-1/2 rounded-xl overflow-hidden shadow-2xl relative group">
                <img src="/api/placeholder/800/600" alt="Commercial Construction" class="w-full h-auto transition-transform duration-500 group-hover:scale-105">
                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              </div>
              <div class="service-details w-full lg:w-1/2">
                <span class="service-category inline-block px-4 py-1 bg-primary/20 text-primary text-sm rounded-full mb-4">Commercial</span>
                <h2 class="text-3xl font-bold mb-6 text-white">Commercial Construction</h2>
                <p class="text-lg leading-relaxed mb-6 text-gray-300">
                  Creating functional, impressive commercial spaces that help businesses thrive. Our commercial construction services deliver high-quality, cost-effective solutions for a wide range of business needs.
                </p>
                <ul class="service-features grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                  {['Office Buildings', 'Retail Spaces', 'Restaurants & Hospitality', 'Industrial Facilities', 'Medical Facilities', 'Educational Institutions'].map((feature, index) => (
                    <li class="flex items-start animate-fade-in" style={`animation-delay: ${index * 100}ms`}>
                      <span class="feature-icon text-primary mr-3">✓</span>
                      <span class="text-gray-300">{feature}</span>
                    </li>
                  ))}
                </ul>
                <a href="/contact" class="inline-block px-8 py-3 bg-gradient-primary text-white font-semibold rounded transition-all duration-300 hover:shadow-lg hover:shadow-primary/30 hover:transform hover:-translate-y-1">Request a Consultation</a>
              </div>
            </div>
          </div>
          
          <!-- Sustainable Panel -->
          <div class="service-panel absolute w-full transition-all duration-700 opacity-0 transform translate-x-full rotate-y-15" id="sustainable-panel">
            <div class="service-content flex flex-col lg:flex-row items-center gap-8 lg:gap-16 bg-white/5 backdrop-blur-md rounded-xl p-6 shadow-xl">
              <div class="service-image w-full lg:w-1/2 rounded-xl overflow-hidden shadow-2xl relative group">
                <img src="/api/placeholder/800/600" alt="Sustainable Building" class="w-full h-auto transition-transform duration-500 group-hover:scale-105">
                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              </div>
              <div class="service-details w-full lg:w-1/2">
                <span class="service-category inline-block px-4 py-1 bg-primary/20 text-primary text-sm rounded-full mb-4">Sustainable</span>
                <h2 class="text-3xl font-bold mb-6 text-white">Sustainable Building</h2>
                <p class="text-lg leading-relaxed mb-6 text-gray-300">
                  Environmentally responsible construction practices that minimize impact and maximize efficiency. Our sustainable building services incorporate eco-friendly materials and innovative design approaches.
                </p>
                <ul class="service-features grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                  {['LEED Certified Projects', 'Energy-Efficient Systems', 'Sustainable Materials', 'Green Infrastructure', 'Solar Integration', 'Water Conservation Systems'].map((feature, index) => (
                    <li class="flex items-start animate-fade-in" style={`animation-delay: ${index * 100}ms`}>
                      <span class="feature-icon text-primary mr-3">✓</span>
                      <span class="text-gray-300">{feature}</span>
                    </li>
                  ))}
                </ul>
                <a href="/contact" class="inline-block px-8 py-3 bg-gradient-primary text-white font-semibold rounded transition-all duration-300 hover:shadow-lg hover:shadow-primary/30 hover:transform hover:-translate-y-1">Request a Consultation</a>
              </div>
            </div>
          </div>
          
          <!-- Renovation Panel -->
          <div class="service-panel absolute w-full transition-all duration-700 opacity-0 transform translate-x-full rotate-y-15" id="renovation-panel">
            <div class="service-content flex flex-col lg:flex-row items-center gap-8 lg:gap-16 bg-white/5 backdrop-blur-md rounded-xl p-6 shadow-xl">
              <div class="service-image w-full lg:w-1/2 rounded-xl overflow-hidden shadow-2xl relative group">
                <img src="/api/placeholder/800/600" alt="Renovation & Restoration" class="w-full h-auto transition-transform duration-500 group-hover:scale-105">
                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              </div>
              <div class="service-details w-full lg:w-1/2">
                <span class="service-category inline-block px-4 py-1 bg-primary/20 text-primary text-sm rounded-full mb-4">Renovation</span>
                <h2 class="text-3xl font-bold mb-6 text-white">Renovation & Restoration</h2>
                <p class="text-lg leading-relaxed mb-6 text-gray-300">
                  Breathing new life into existing structures while preserving their character and history. Our renovation services combine respect for architectural heritage with modern functionality.
                </p>
                <ul class="service-features grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                  {['Historic Preservation', 'Commercial Renovations', 'Adaptive Reuse', 'Structural Repairs', 'Facade Restoration', 'Interior Modernization'].map((feature, index) => (
                    <li class="flex items-start animate-fade-in" style={`animation-delay: ${index * 100}ms`}>
                      <span class="feature-icon text-primary mr-3">✓</span>
                      <span class="text-gray-300">{feature}</span>
                    </li>
                  ))}
                </ul>
                <a href="/contact" class="inline-block px-8 py-3 bg-gradient-primary text-white font-semibold rounded transition-all duration-300 hover:shadow-lg hover:shadow-primary/30 hover:transform hover:-translate-y-1">Request a Consultation</a>
              </div>
            </div>
          </div>
          
          <!-- Design-Build Panel -->
          <div class="service-panel absolute w-full transition-all duration-700 opacity-0 transform translate-x-full rotate-y-15" id="design-panel">
            <div class="service-content flex flex-col lg:flex-row items-center gap-8 lg:gap-16 bg-white/5 backdrop-blur-md rounded-xl p-6 shadow-xl">
              <div class="service-image w-full lg:w-1/2 rounded-xl overflow-hidden shadow-2xl relative group">
                <img src="/api/placeholder/800/600" alt="Design-Build Services" class="w-full h-auto transition-transform duration-500 group-hover:scale-105">
                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              </div>
              <div class="service-details w-full lg:w-1/2">
                <span class="service-category inline-block px-4 py-1 bg-primary/20 text-primary text-sm rounded-full mb-4">Design-Build</span>
                <h2 class="text-3xl font-bold mb-6 text-white">Design-Build Services</h2>
                <p class="text-lg leading-relaxed mb-6 text-gray-300">
                  A streamlined approach that integrates design and construction under a single contract. Our design-build services offer a collaborative, efficient process that ensures seamless coordination.
                </p>
                <ul class="service-features grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                  {['Integrated Project Delivery', 'Architectural Design', 'Engineering Solutions', 'Value Engineering', '3D Visualization', 'Permitting Assistance'].map((feature, index) => (
                    <li class="flex items-start animate-fade-in" style={`animation-delay: ${index * 100}ms`}>
                      <span class="feature-icon text-primary mr-3">✓</span>
                      <span class="text-gray-300">{feature}</span>
                    </li>
                  ))}
                </ul>
                <a href="/contact" class="inline-block px-8 py-3 bg-gradient-primary text-white font-semibold rounded transition-all duration-300 hover:shadow-lg hover:shadow-primary/30 hover:transform hover:-translate-y-1">Request a Consultation</a>
              </div>
            </div>
          </div>
        </div>
        
        <div class="carousel-controls flex justify-center mt-10 gap-4">
          <button class="carousel-btn bg-transparent border-2 border-primary text-primary w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 hover:bg-primary hover:text-black text-xl" id="prevBtn">←</button>
          <button class="carousel-btn bg-transparent border-2 border-primary text-primary w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 hover:bg-primary hover:text-black text-xl" id="nextBtn">→</button>
        </div>
      </div>
    </section>
    
    <!-- Why Choose Section -->
    <section class="why-choose-section py-20">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16 animate-fade-in">
          <h2 class="text-4xl md:text-5xl font-bold mb-6 inline-block relative">
            Why Choose <span class="text-primary">Ultraction</span>
            <span class="absolute bottom-0 left-1/2 w-24 h-1 bg-gradient-primary -translate-x-1/2 rounded-full animate-pulse"></span>
          </h2>
          <p class="text-xl max-w-3xl mx-auto text-gray-300">
            What sets us apart in the construction industry
          </p>
        </div>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {[
            { icon: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z', title: 'Proven Track Record', text: 'Over 15 years of experience and more than 200 successful projects.' },
            { icon: 'M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z', title: 'Expert Team', text: 'Highly skilled professionals with specialized expertise.' },
            { icon: 'M13 10V3L4 14h7v7l9-11h-7z', title: 'Innovative Approach', text: 'Cutting-edge technologies for modern solutions.' }
          ].map((reason, index) => (
            <div class="reason-card bg-white/5 rounded-xl p-8 backdrop-blur-md border border-white/10 transition-all duration-500 hover:transform hover:-translate-y-2 hover:shadow-lg hover:shadow-primary/20 animate-fade-in" style={`animation-delay: ${index * 200}ms`}>
              <div class="reason-icon w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-6 mx-auto">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={reason.icon} />
                </svg>
              </div>
              <h3 class="text-2xl font-semibold text-primary mb-4 text-center">{reason.title}</h3>
              <p class="text-gray-300 leading-relaxed text-center">{reason.text}</p>
            </div>
          ))}
        </div>
        <div class="stats mt-16 grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="stat-item text-center animate-fade-in-up" style="animation-delay: 300ms">
            <div class="stat-number text-4xl md:text-5xl font-bold text-primary mb-2" data-count="15">0+</div>
            <div class="stat-label text-sm text-gray-400">Years Experience</div>
          </div>
          <div class="stat-item text-center animate-fade-in-up" style="animation-delay: 400ms">
            <div class="stat-number text-4xl md:text-5xl font-bold text-primary mb-2" data-count="200">0+</div>
            <div class="stat-label text-sm text-gray-400">Projects Completed</div>
          </div>
          <div class="stat-item text-center animate-fade-in-up" style="animation-delay: 500ms">
            <div class="stat-number text-4xl md:text-5xl font-bold text-primary mb-2" data-count="100">0%</div>
            <div class="stat-label text-sm text-gray-400">Client Satisfaction</div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Certifications Section -->
    <section class="certifications-section py-20">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16 animate-fade-in">
          <h2 class="text-4xl md:text-5xl font-bold mb-6 inline-block relative">
            Our <span class="text-primary">Certifications</span>
            <span class="absolute bottom-0 left-1/2 w-24 h-1 bg-gradient-primary -translate-x-1/2 rounded-full animate-pulse"></span>
          </h2>
          <p class="text-xl max-w-3xl mx-auto text-gray-300">
            Industry recognitions that validate our commitment to excellence
          </p>
        </div>
        <div class="certifications-grid grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8">
          {['LEED Certified', 'ISO 9001', 'Energy Star', 'Green Building Council', 'OSHA Safety', 'Builders Association'].map((cert, index) => (
            <div class="certification-item bg-white/5 p-6 rounded-xl flex flex-col items-center justify-center text-center transition-all duration-300 hover:transform hover:-translate-y-2 hover:bg-white/10 hover:shadow-lg animate-fade-in" style={`animation-delay: ${index * 150}ms`}>
              <img src={`/api/placeholder/100/100`} alt={cert} class="w-16 h-16 mb-4 transition-transform duration-300 hover:scale-110"/>
              <h3 class="text-lg font-semibold text-primary">{cert}</h3>
            </div>
          ))}
        </div>
      </div>
    </section>
    
    <!-- Process Section -->
    <section class="process-section py-20">
      <div class="container mx-auto px-6">
        <div class="section-header text-center mb-16 animate-fade-in">
          <h2 class="text-4xl md:text-5xl font-bold mb-6 inline-block relative">
            Our <span class="text-primary">Process</span>
            <span class="absolute bottom-0 left-1/2 w-24 h-1 bg-gradient-primary -translate-x-1/2 rounded-full animate-pulse"></span>
          </h2>
          <p class="text-xl max-w-3xl mx-auto text-gray-300">
            A methodical approach to bringing your vision to life
          </p>
        </div>
        <div class="process-timeline relative max-w-4xl mx-auto">
          <div class="timeline-line absolute top-0 left-1/2 -translate-x-1/2 w-0.5 h-full bg-gradient-to-b from-primary to-transparent"></div>
          {[
            { title: 'Initial Consultation', text: 'We begin by understanding your vision, requirements, and budget.', side: 'left' },
            { title: 'Concept & Design', text: 'Our design team creates detailed plans and visualizations.', side: 'right' },
            { title: 'Estimating & Planning', text: 'We develop comprehensive budgets and timelines.', side: 'left' },
            { title: 'Construction Phase', text: 'Our skilled teams execute with precision and quality.', side: 'right' },
            { title: 'Quality Control', text: 'Rigorous inspections ensure high standards.', side: 'left' },
            { title: 'Project Completion', text: 'Final walkthrough and complete satisfaction.', side: 'right' }
          ].map((step, index) => (
            <div class={`timeline-item relative w-1/2 p-8 mb-10 ${step.side === 'left' ? 'left-0 text-right pr-16' : 'left-1/2 pl-16'} animate-slide-in-${step.side}`} style={`animation-delay: ${index * 200}ms`}>
              <div class={`timeline-marker absolute top-8 ${step.side === 'left' ? 'right-[-20px]' : 'left-[-20px]'} w-10 h-10 bg-primary rounded-full flex items-center justify-center text-black font-bold z-10 transition-all duration-300 hover:scale-110`}>{index + 1}</div>
              <div class="timeline-content p-8 bg-white/5 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300">
                <h3 class="timeline-title text-2xl font-semibold mb-4 text-primary">{step.title}</h3>
                <p class="timeline-text text-base leading-relaxed text-gray-300">{step.text}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
    
    <!-- CTA Section -->
    <section class="cta-section py-20 text-center">
      <div class="cta-container max-w-3xl mx-auto p-16 bg-white/5 rounded-lg relative overflow-hidden animate-fade-in-up">
        <div class="cta-pattern absolute inset-0 opacity-5" style="background-image: radial-gradient(var(--primary) 2px, transparent 2px); background-size: 20px 20px;"></div>
        <h2 class="cta-title text-4xl md:text-5xl font-bold mb-5 text-white">Ready to Start Your Project?</h2>
        <p class="cta-text text-lg max-w-xl mx-auto mb-8 text-gray-300">
          Contact us today to discuss your construction needs and discover how Ultraction can bring your vision to life.
        </p>
        <a href="/contact" class="cta-button inline-block px-10 py-4 bg-gradient-primary text-white no-underline font-semibold rounded transition-all duration-300 hover:transform hover:-translate-y-1 hover:shadow-lg hover:shadow-primary/30 animate-pulse-slow">Request a Consultation</a>
      </div>
    </section>
  </div>
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Services Carousel Functionality
    const serviceTabs = document.querySelectorAll('.service-tab');
    const servicePanels = document.querySelectorAll('.service-panel');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const panelIds = ['residential', 'commercial', 'sustainable', 'renovation', 'design'];
    let currentIndex = 0;
    
    function showPanel(index, direction = 'next') {
      servicePanels.forEach(panel => {
        panel.classList.remove('active', 'opacity-100');
        if (panel.id === `${panelIds[index]}-panel`) {
          panel.classList.remove(direction === 'next' ? 'translate-x-full' : 'translate-x-[-100%]');
          panel.classList.add('translate-x-0', 'rotate-y-0');
        } else if (panel.id.includes(panelIds[index < panelIds.length - 1 ? index + 1 : 0])) {
          panel.classList.add('translate-x-full', 'rotate-y-15');
          panel.classList.remove('translate-x-0', 'translate-x-[-100%]');
        } else {
          panel.classList.add('translate-x-[-100%]', 'rotate-y--15');
          panel.classList.remove('translate-x-0', 'translate-x-full');
        }
      });
      
      const currentPanel = document.getElementById(`${panelIds[index]}-panel`);
      if (currentPanel) {
        setTimeout(() => {
          currentPanel.classList.add('active', 'opacity-100');
        }, 50);
      }
      
      serviceTabs.forEach(tab => {
        tab.classList.remove('active', 'text-white', 'bg-primary/20');
        tab.classList.add('text-gray-400', 'bg-white/5');
      });
      
      const activeTab = document.querySelector(`.service-tab[data-tab="${panelIds[index]}"]`);
      if (activeTab) {
        activeTab.classList.add('active', 'text-white', 'bg-primary/20');
        activeTab.classList.remove('text-gray-400', 'bg-white/5');
      }
    }
    
    serviceTabs.forEach(tab => {
      tab.addEventListener('click', function() {
        const tabId = this.getAttribute('data-tab');
        const newIndex = panelIds.indexOf(tabId);
        const direction = newIndex > currentIndex ? 'next' : 'prev';
        currentIndex = newIndex;
        showPanel(currentIndex, direction);
      });
    });
    
    prevBtn?.addEventListener('click', function() {
      currentIndex = (currentIndex - 1 + panelIds.length) % panelIds.length;
      showPanel(currentIndex, 'prev');
    });
    
    nextBtn?.addEventListener('click', function() {
      currentIndex = (currentIndex + 1) % panelIds.length;
      showPanel(currentIndex, 'next');
    });
    
    showPanel(currentIndex);

    // Counter Animation for Stats
    const counters = document.querySelectorAll('.stat-number');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const counter = entry.target;
          const target = parseInt(counter.getAttribute('data-count'));
          let count = 0;
          const increment = target / 50;
          
          const updateCounter = () => {
            count += increment;
            if (count >= target) {
              counter.textContent = `${target}${counter.textContent.includes('%') ? '%' : '+'}`;
            } else {
              counter.textContent = `${Math.ceil(count)}${counter.textContent.includes('%') ? '%' : '+'}`;
              requestAnimationFrame(updateCounter);
            }
          };
          
          updateCounter();
          observer.unobserve(counter);
        }
      });
    }, { threshold: 0.5 });

    counters.forEach(counter => observer.observe(counter));
    
    // Enhanced Mobile Timeline
    function adjustTimelineForMobile() {
      const timelineLine = document.querySelector('.timeline-line');
      const timelineItems = document.querySelectorAll('.timeline-item');
      
      if (window.innerWidth <= 992) {
        if (timelineLine) timelineLine.style.left = '20px';
        timelineItems.forEach(item => {
          item.style.width = '100%';
          item.style.paddingLeft = '60px';
          item.style.paddingRight = '30px';
          item.style.textAlign = 'left';
          item.classList.remove('left-0', 'left-1/2');
          const marker = item.querySelector('.timeline-marker');
          if (marker) marker.style.left = '0';
        });
      } else {
        if (timelineLine) timelineLine.style.left = '50%';
        timelineItems.forEach((item, index) => {
          item.style.width = '50%';
          item.style.textAlign = index % 2 === 0 ? 'right' : 'left';
          item.classList.remove('left-0', 'left-1/2');
          item.classList.add(index % 2 === 0 ? 'left-0' : 'left-1/2');
          item.style.padding = '2rem 4rem';
          const marker = item.querySelector('.timeline-marker');
          if (marker) marker.style[index % 2 === 0 ? 'right' : 'left'] = '-20px';
        });
      }
    }
    
    adjustTimelineForMobile();
    window.addEventListener('resize', adjustTimelineForMobile);
  });
</script>

<style>
  :root {
    --primary: #ff6b35;
    --accent: #ff8c66;
  }

  .perspective-1000 {
    perspective: 1000px;
  }

  .service-tab.active {
    background: var(--primary) !important;
    color: white !important;
    box-shadow: 0 4px 14px rgba(255, 107, 53, 0.3);
  }

  .service-panel {
    transform-style: preserve-3d;
    transition: all 0.7s ease-in-out;
  }

  .animate-fade-in {
    animation: fadeIn 1s ease-out forwards;
  }

  .animate-fade-in-down {
    animation: fadeInDown 1s ease-out forwards;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.8s ease-out forwards;
  }

  .animate-bounce-in {
    animation: bounceIn 0.8s ease-out forwards;
  }

  .animate-pulse-slow {
    animation: pulseSlow 2s infinite ease-in-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideInRight {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
  }

  @keyframes bounceIn {
    0% { transform: scale(0.8); opacity: 0; }
    60% { transform: scale(1.05); opacity: 1; }
    100% { transform: scale(1); }
  }

  @keyframes pulseSlow {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
  }

  @media (max-width: 768px) {
    .services-tabs { gap: 2; }
    .service-tab { width: 45%; margin-bottom: 8px; }
    .service-content { padding: 1rem; }
    .service-image { margin-bottom: 1rem; }
  }
</style>